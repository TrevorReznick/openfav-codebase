---
// src/pages/component-links.astro
import Layout from '@/layouts/Layout.astro';

const components = [
  { path: 'auth/Auth', name: 'Auth Component' },
  { path: 'home/index', name: 'Home Page' },
  { path: 'common/LoadFallback', name: 'Load Fallback' },
  { path: 'common/LoadingFallback', name: 'Loading Fallback' },
  { path: 'examples/TestComponent', name: 'Test Component' },
  { path: 'examples/TestReactComponent', name: 'Test React Component' },
  { path: 'common/ThemeToggle', name: 'Theme Toggle' },
  { path: 'test-component', name: 'Test Component (alias)' }
];

const baseUrl = Astro.url.origin;
const vercelUrl = 'https://openfav-codebase.vercel.app';
---

<Layout title="Component Links">
  <div class="container">
    <h1>Component Explorer Links</h1>
    
    <section class="route-section">
      <h2>Local Build Routes (Pattern: /build/[...component])</h2>
      <ul class="link-list">
        {components.map(({ path, name }) => (
          <li>
            <a href={`/build/${path}`} class="component-link">
              <span class="name">{name}</span>
              <span class="path">{baseUrl}/build/{path}</span>
            </a>
          </li>
        ))}
      </ul>
    </section>

    <section class="route-section">
      <h2>Production Build Routes (Vercel)</h2>
      <ul class="link-list">
        {components.map(({ path, name }) => (
          <li>
            <a href={`${vercelUrl}/build/${path}`} class="component-link">
              <span class="name">{name}</span>
              <span class="path">{vercelUrl}/build/{path}</span>
            </a>
          </li>
        ))}
      </ul>
    </section>

    <section class="info-section">
      <h3>Component Mapping Reference</h3>
      <table class="mapping-table">
        <thead>
          <tr>
            <th>Component</th>
            <th>File Path</th>
            <th>Build URL Path</th>
          </tr>
        </thead>
        <tbody>
          {components.filter(c => c.path !== 'test-component').map(({ path, name }) => (
            <tr>
              <td>{name}</td>
              <td><code>@/react/components/{path}.tsx</code></td>
              <td><code>/build/{path}</code></td>
            </tr>
          ))}
        </tbody>
      </table>
    </section>
  </div>
</Layout>

<style>
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
  }

  h1 {
    color: #333;
    margin-bottom: 2rem;
    text-align: center;
  }

  .route-section {
    margin-bottom: 3rem;
    background: #f5f5f5;
    padding: 1.5rem;
    border-radius: 8px;
  }

  .route-section h2 {
    color: #555;
    margin-bottom: 1rem;
    font-size: 1.5rem;
  }

  .link-list {
    list-style: none;
    padding: 0;
    display: grid;
    gap: 0.5rem;
  }

  .component-link {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1rem;
    background: white;
    border: 1px solid #ddd;
    border-radius: 4px;
    text-decoration: none;
    transition: all 0.2s;
  }

  .component-link:hover {
    background: #f0f0f0;
    border-color: #999;
    transform: translateX(4px);
  }

  .component-link .name {
    font-weight: 600;
    color: #333;
  }

  .component-link .path {
    font-size: 0.875rem;
    color: #666;
    font-family: monospace;
  }

  .info-section {
    margin-top: 3rem;
    padding: 1.5rem;
    background: #e8f4f8;
    border-radius: 8px;
  }

  .info-section h3 {
    color: #2c5aa0;
    margin-bottom: 1rem;
  }

  .mapping-table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    border-radius: 4px;
    overflow: hidden;
  }

  .mapping-table th,
  .mapping-table td {
    padding: 0.75rem;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }

  .mapping-table th {
    background: #2c5aa0;
    color: white;
    font-weight: 600;
  }

  .mapping-table tr:last-child td {
    border-bottom: none;
  }

  .mapping-table code {
    background: #f5f5f5;
    padding: 0.2rem 0.4rem;
    border-radius: 3px;
    font-size: 0.875rem;
  }

  @media (max-width: 768px) {
    .component-link {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }

    .mapping-table {
      font-size: 0.875rem;
    }

    .mapping-table code {
      font-size: 0.75rem;
    }
  }
</style>